<!DOCTYPE html>
<html lang="PT-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>paginaQuiz</title>
    <link rel="stylesheet" href="./assets/css/sylequiz.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

    <div class="container">
        <div class="voltar_usuario" id="div_voltar_usuario"><button onclick="voltar()">Voltar</button></div>
        <div class="contador" id="div_contador"><span id="spn_contador">1</span>/10</div>

        <div class="box">


            <div class="pergunta" id="div_pergunta1">

                <div class="img_pergunta">
                    <img src="./assets/IMG/Quem é esse pokémon(Carracosta).jfif" alt="">
                </div>

                <div class="botoes_respostas">
                    <button onclick="proxima_pergunta(1, 'carracosta')">Carracosta</button>
                    <button onclick="proxima_pergunta(1, 'vaporeon')">Vaporeon</button>
                    <button onclick="proxima_pergunta(1, 'dratini')">dratini</button>
                    <button onclick="proxima_pergunta(1, 'pikachu')">Pikachu</button>
                </div>

            </div>
            <div class="pergunta" id="div_pergunta2">
                <div class="img_pergunta">
                    <img src="./assets/IMG/quem é esse Pokémon(alho_poró).webp" alt="">
                </div>

                <div class="botoes_respostas">
                    <button onclick="proxima_pergunta(2, 'oshawott')">Oshawott</button>
                    <button onclick="proxima_pergunta(2, 'farfech')">Farfech</button>
                    <button onclick="proxima_pergunta(2, 'caterpie')">Caterpie</button>
                    <button onclick="proxima_pergunta(2, 'tedursa')">TedUrsa</button>
                </div>
            </div>
            <div class="pergunta" id="div_pergunta3">
                <div class="img_pergunta">
                    <img src="./assets/IMG/Quem é esse pokemon(dragonite).webp" alt="">
                </div>

                <div class="botoes_respostas">
                    <button onclick="proxima_pergunta(3, 'emolga')">Emolga</button>
                    <button onclick="proxima_pergunta(3, 'jolteon')">Jolteon</button>
                    <button onclick="proxima_pergunta(3, 'dragonair')">dragonair</button>
                    <button onclick="proxima_pergunta(3, 'dragonite')">Dragonite</button>
                </div>
            </div>
            <div class="pergunta" id="div_pergunta4">
                <div class="img_pergunta">
                    <img src="./assets/IMG/Quem é esse Pokémon(Arcanine).webp" alt="">
                </div>

                <div class="botoes_respostas">
                    <button onclick="proxima_pergunta(4, 'lugia')">Lugia</button>
                    <button onclick="proxima_pergunta(4, 'arcanine')">Arcanine</button>
                    <button onclick="proxima_pergunta(4, 'totodile')">Totodile</button>
                    <button onclick="proxima_pergunta(4, 'mew')">Mew</button>
                </div>
            </div>
            <div class="pergunta" id="div_pergunta5">
                <div class="img_pergunta">
                    <img src="./assets/IMG/Quem é esse Pokémon(Eevee).webp" alt="">
                </div>

                <div class="botoes_respostas">
                    <button onclick="proxima_pergunta(5, 'fennekin')">Fennekin</button>
                    <button onclick="proxima_pergunta(5, 'mr.mime')">Mr.mime</button>
                    <button onclick="proxima_pergunta(5, 'eevee')">Eevee</button>
                    <button onclick="proxima_pergunta(5, 'Pichu')">Pichu</button>
                </div>
            </div>
            <div class="pergunta" id="div_pergunta6">
                <div class="img_pergunta">
                    <img src="./assets/IMG/Quem é esse Pokémon(Jinx).webp" alt="">
                </div>

                <div class="botoes_respostas">
                    <button onclick="proxima_pergunta(6, 'jinx')">Jinx</button>
                    <button onclick="proxima_pergunta(6, 'tangela')">Tangela</button>
                    <button onclick="proxima_pergunta(6, 'zubat')">Zubat</button>
                    <button onclick="proxima_pergunta(6, 'persian')">Persian</button>
                </div>
            </div>
            <div class="pergunta" id="div_pergunta7">
                <div class="img_pergunta">
                    <img src="./assets/IMG/Quem é esse pokémon(Porygon).webp" alt="">
                </div>

                <div class="botoes_respostas">
                    <button onclick="proxima_pergunta(7, 'weepinbell')">Weepinbell</button>
                    <button onclick="proxima_pergunta(7, 'shellder')">Shellder</button>
                    <button onclick="proxima_pergunta(7, 'cubone')">Cubone</button>
                    <button onclick="proxima_pergunta(7, 'porygon')">Porygon</button>
                </div>
            </div>
            <div class="pergunta" id="div_pergunta8">
                <div class="img_pergunta">
                    <img src="./assets/IMG/quem é esse pokémon(slowking).webp" alt="">
                </div>

                <div class="botoes_respostas">
                    <button onclick="proxima_pergunta(8, 'slowking')">Slowking</button>
                    <button onclick="proxima_pergunta(8, 'kabuto')">Kabuto</button>
                    <button onclick="proxima_pergunta(8, 'entei')">Entei</button>
                    <button onclick="proxima_pergunta(8, 'silcoon')">Silcoon</button>
                </div>
            </div>
            <div class="pergunta" id="div_pergunta9">
                <div class="img_pergunta">
                    <img src="./assets/IMG/Quem é esse Pokémon(Snorlax).jfif" alt="">
                </div>

                <div class="botoes_respostas">
                    <button onclick="proxima_pergunta(9, 'kirlia')">Kirlia</button>
                    <button onclick="proxima_pergunta(9, 'snorlax')">Snorlax</button>
                    <button onclick="proxima_pergunta(9, 'makuhita')">Makuhita</button>
                    <button onclick="proxima_pergunta(9, 'luvdisc')">Luvdisc</button>
                </div>
            </div>
            <div class="pergunta" id="div_pergunta10">
                <div class="img_pergunta">
                    <img src="./assets/IMG/Quem é esse pokémon(Taurus).jpeg" alt="">
                </div>

                <div class="botoes_respostas">
                    <button onclick="proxima_pergunta(10, 'bagon')">Bagon</button>
                    <button onclick="proxima_pergunta(10, 'regice')">Regice</button>
                    <button onclick="proxima_pergunta(10, 'bouffalant')">bouffalant</button>
                    <button onclick="proxima_pergunta(10, 'taurus')">Taurus</button>
                </div>
            </div>

            <div class="pergunta" id="div_final">
                <div class="caixa_final">
                    <div class="mensagem_final">
                        <div class="titulo_f">
                            <h1>Parabéns! Você finalizou o quiz!!</h1>
                        </div>
                        <div class="frase_f">
                            <p> De um total de 10 Questões você obteve:</p>
                            <br><br>
                            <span>Acertos: <span id="spn_acertos"></span> | Erros: <span id="spn_erros"></span></span>
                        </div>

                        <div style="height: 300px; width: 500px">
                            <canvas id="chart_exemplo"></canvas>
                        </div>

                        <div class="botoes_de_acao">
                            <div class="botao_reiniciar">
                                <button onclick="tentar_novamente()">Tentar Novamente</button>
                            </div>
                            <div class="botao_voltar_usuario">
                                <button onclick="voltar()">Voltar para o menu</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</body>

</html>
<script>

    function tentar_novamente() {
        window.location.href = "quiz.html"
    }

    function voltar() {
        window.location.href = "pagina_usuario.html"
    }

    var pergunta_atual = 1
    var lista_respostas_corretas = { 1: 'carracosta', 2: 'farfech', 3: 'dragonite', 4: 'arcanine', 5: 'eevee', 6: 'jinx', 7: 'porygon', 8: 'slowking', 9: 'snorlax', 10: 'bouffalant' }
    var acertos = 0
    var erros = 0

    function proxima_pergunta(perguntaAtual, resposta) {

        // Verifia se a resposta está correta
        if (resposta == lista_respostas_corretas[perguntaAtual]) {
            acertos++
        } else {
            erros++
        }

        // Esconde a pergunta atual
        document.getElementById('div_pergunta' + pergunta_atual).style.display = 'none';

        pergunta_atual++

        // Mostra a pergunta atual
        if (pergunta_atual <= 10) {
            document.getElementById('div_pergunta' + pergunta_atual).style.display = 'block';
        } else {
            // Retira da pagina a div_contador e a div_voltar_usuario para por no lugar a div_final

            const meuGrafico = document.getElementById('chart_exemplo');

            const chart = new Chart(meuGrafico, {
                type: 'bar',
                data: {
                    labels: ['acertos', 'erros'],
                    datasets: [{
                        label: 'Quantidade de acertos por questao',
                        data: [acertos, erros],
                        backgroundColor: ['green', 'red'],
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 10,
                            min: 0
                        }
                    }
                }
            });



            document.getElementById('div_contador').style.display = 'none'
            document.getElementById('div_voltar_usuario').style.display = 'none'
            document.getElementById('div_final').style.display = 'block'

        }

        // Span da pagiana de resultados junto ao contador
        document.getElementById('spn_contador').innerHTML = `${pergunta_atual}`
        document.getElementById('spn_acertos').innerHTML = `${acertos}`
        document.getElementById('spn_erros').innerHTML = `${erros}`
    }



</script>